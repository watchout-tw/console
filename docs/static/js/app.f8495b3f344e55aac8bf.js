webpackJsonp([1],[,,,,,,,,,,,function(e,t,i){"use strict";function r(e){var t={};for(var i in e)t[i]=e[i]?e[i]:void 0;return t}function a(e){var t=y.a[e.directoryID],i=!!t.paging&&t.paging.all,r=e.parameters?e.parameters:{},a=m()(r).reduce(function(e,t){return e.push(t+"="+encodeURIComponent(r[t])),e},[]).join("&"),o="/console/lab/"+t.api+"?"+(i?"all":"")+(i&&a?"&":"")+a;return _.a.get(o)}function o(e){var t="/console/lab/"+e.pageID+"?page="+e.page;return _.a.get(t)}function n(e){var t="/console/lab/"+e.pageID;return _.a.get(t)}function l(e){var t=v.a.stringify(r(e.queryParameters)),i="/console/lab/"+e.pageID+"?"+t;return _.a.get(i)}function s(e){var t="/console/lab/"+e.pageID+"/"+e.id;return _.a.get(t)}function c(e){var t="/console/lab/date_to_term?date="+e.timestamp;return _.a.get(t)}function p(e){return new u.a(function(t,i){t({data:e})})}t.c=a,t.e=o,t.f=n,t.g=l,t.a=s,t.b=c,t.d=p;var d=i(173),u=i.n(d),f=i(172),m=i.n(f),y=i(23),b=i(65),_=i.n(b),h=i(249),v=i.n(h)},,,,,,,function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"j",function(){return a}),i.d(t,"k",function(){return o}),i.d(t,"e",function(){return n}),i.d(t,"g",function(){return l}),i.d(t,"f",function(){return s}),i.d(t,"h",function(){return c}),i.d(t,"i",function(){return p}),i.d(t,"d",function(){return d}),i.d(t,"l",function(){return u}),i.d(t,"m",function(){return f}),i.d(t,"a",function(){return m}),i.d(t,"c",function(){return y});var r="fetchFail",a="filterList",o="getFilteredList",n="postFail",l="showFailAlert",s="showSuccessAlert",c="updateList",p="updateListNoPaging",d="updateChecklist",u="updateSelect",f="deleteSelect",m="cacheDirectory",y="directoryNotFound"},,,,,function(e,t,i){"use strict";t.a={term:{id:"term",api:"terms",value:"index",label:"index"},term_district:{id:"term_district",api:"term_districts",value:"district_name",label:"abbreviation"},party:{id:"party",api:"parties",value:"id",label:"name"},caucus:{id:"caucus",api:"caucuses",value:"id",label:"abbreviation"},committee:{id:"committee",api:"committees",value:"name",label:"name"},zone:{id:"zone",api:"zones",value:"name",label:"name"},district:{id:"district",api:"district_unique_names",value:"name",label:"name"},general_topic:{id:"general_topic",api:"general_topics",value:"id",label:"title"},specific_topic:{id:"specific_topc",api:"specific_topics",value:"id",label:"title"},act:{id:"act",api:"acts",value:"id",label:"title"},act_dir:{id:"act_dir",api:"act_dirs",value:"id",label:"name"},act_feature:{id:"act_feature",api:"act_features",value:"id",label:"feature"},rep:{id:"rep",api:"reps",value:"id",label:"name",paging:{page:!0,all:!0}},principle_sponsor_type:{id:"principle_sponsor_type",options:[{value:"gov_agency",label:"政府單位"},{value:"caucus",label:"黨團或政團"},{value:"rep",label:"委員"}]},gov_agency:{id:"gov_agency",api:"gov_agencies",value:"id",label:"name"},committee_category:{id:"committee_category",options:[{value:"regular",label:"常設"},{value:"ad_hoc",label:"特種"},{value:"other",label:"其他"}]},edu_degree:{id:"edu_degree",options:[{value:"doctorate",label:"博士"},{value:"masters",label:"碩士"},{value:"bachelor",label:"學士"},{value:"high_school",label:"高中、高職"},{value:"middle_school",label:"中學"},{value:"primary_school",label:"小學"},{value:"other",label:"其他"}]},rep_term_change_type:{id:"rep_term_change_type",options:[{value:"assume_office_through_regular_election",label:"應屆就任"},{value:"assume_office_through_by_election",label:"補選就任"},{value:"end_of_term",label:"任期屆滿"},{value:"leave_office",label:"離任"}]},rep_term_duty:{id:"rep_term_duty",options:[{value:"speaker",label:"院長"},{value:"deputy_speaker",label:"副院長"}]},st_question:{id:"st_question",api:"st_questions",value:"id",label:"question"},rs_tag:{id:"rs_tag",api:"rs_tags",value:"id",label:"name"},rs_position:{id:"rs_position",options:[{value:"pro",label:"支持"},{value:"ambiguous",label:"模糊"},{value:"against",label:"反對"}]},legislative_step:{id:"legislative_step",api:"legislative_steps",value:"id",label:"name"},session:{id:"session",api:"term_sessions",value:"session_index",label:"session_index"},temp_session:{id:"temp_session",api:"term_sessions",value:"temp_session_index",label:"temp_session_index"}}},,,,,,function(e,t,i){"use strict";function r(e,t){var i=o.a[e].value,r=o.a[e].label;return t.map(function(e){return{value:e[i],label:e[r]}})}function a(e){return o.a[e].options}t.b=r,t.a=a;var o=i(23)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var r=i(7)(i(160),i(267),null,null,null);e.exports=r.exports},,,function(e,t,i){"use strict";var r=i(30),a=i.n(r),o=i(0),n=i(274),l=i(258),s=i.n(l),c=i(259),p=i.n(c),d=i(253),u=i.n(d),f=i(76);o.default.use(n.a);var m=[{path:"/",name:"hello",component:s.a}],y=!0,b=!1,_=void 0;try{for(var h,v=a()(f.a);!(y=(h=v.next()).done);y=!0){var g=h.value,x=!0,w=!1,I=void 0;try{for(var k,C=a()(g.pages);!(x=(k=C.next()).done);x=!0){var D=k.value;m.push({path:"/"+D.id,name:D.routes.list.name,component:p.a,props:{page:D}}),m.push({path:"/"+D.id+"/:id",name:D.routes.edit.name,component:u.a,props:{page:D}})}}catch(e){w=!0,I=e}finally{try{!x&&C.return&&C.return()}finally{if(w)throw I}}}}catch(e){b=!0,_=e}finally{try{!y&&v.return&&v.return()}finally{if(b)throw _}}t.a=new n.a({mode:"history",routes:m})},,,,,,,,function(e,t,i){"use strict";function r(e){return e||(e="#000"),'<div class="party-flag" style="background-color: '+e+'"></div>'}var a=i(23),o={separator:"、",colon:"："},n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.separator;return e.map(function(e){return e[t]}).join(i)},l=["〇","一","二","三","四","五","六","七","八","九"],s=function(e){return"第"+l[e]+"屆"};t.a={date:function(e,t){return e[t.property]?new Date(e[t.property]).toLocaleDateString("zh-Hans-TW"):""},sessions:function(e,t){return(e.sessions?e.sessions:[]).map(function(e){return e.session_index+"-"+e.temp_session_index}).join(o.separator)},title:function(e,t){return e[t.property]?e[t.property].title:""},name:function(e,t){return e[t.property]?e[t.property].name:""},abbreviation:function(e,t){return e[t.property]?e[t.property].abbreviation:""},list_abbreviations:function(e,t){return e[t.property]?n(e[t.property],"abbreviation"):""},list_titles:function(e,t){return e[t.property]?n(e[t.property],"title"):""},list_names:function(e,t){return e[t.property]?n(e[t.property],"name"):""},list_questions:function(e,t){return e[t.property]?n(e[t.property],"question"):""},rep_history:function(e,t){return(e.history?e.history:[]).filter(function(e){return!!e.term}).map(function(e){var t=""+s(e.term);return t+=e.party&&e.party.abbreviation?e.party.abbreviation:"",t+=e.district&&e.district.abbreviation?e.district.abbreviation:""}).join(o.separator)},committee_category:function(e,t){var i=e[t.property];return a.a.committee_category.options.filter(function(e){return e.value===i}).pop().label},st:function(e,t){return e.st.title},boolean:function(e,t){return e[t.property]?"⚫️":"⚪️"},party_flag:function(e,t){return r(e[t.property])},party_flag_from_color:function(e,t){return r(e[t.property].color)},party_flags:function(e,t){return'<div class="flags d-flex flex-wrap">'+e[t.property].map(function(e){return r(e.color)}).join("")+"</div>"},link:function(e,t){return'<a class="link" href="'+e[t.property]+'" target="_blank">🔗</a>'},bullet_point_questions:function(e,t){return"<ul>"+e[t.property].map(function(e){return"<li>"+e.question+"</li>"}).join("")+"</ul>"}}},function(e,t,i){"use strict";var r=i(41),a=i.n(r),o=i(80),n=i.n(o),l=i(62),s=i.n(l),c=i(77);t.a={data:function(){return{uuids:{},cascadeVectors:{},cascadeThis:{}}},watch:{cascadeThis:function(){this.cascade()}},methods:{cascadeInit:function(){var e=this;this.cascadeList.forEach(function(t){e.$set(e.uuids,t.id,s()())}),this.cascadeList.forEach(function(t){if(t.cascadeUpdate){var i,r=e.uuids[t.id];e.cascadeVectors[r]||e.$set(e.cascadeVectors,r,[]),(i=e.cascadeVectors[r]).push.apply(i,n()(t.cascadeUpdate.map(function(t){return a()(t,{targetObjects:t.targets.map(function(t){return{id:t,uuid:e.uuids[t]}})})})))}})},cascade:function(){var e=this,t=this.cascadeVectors[this.cascadeThis.fromID];t&&t.forEach(function(t){t.action===c.a?t.targetObjects.forEach(function(t){e.cascadeList.filter(function(e){return e.id===t.id}).forEach(function(t){e.$set(t,"directory",e.cascadeThis.value)})}):t.action===c.b&&(t.targetObjects.filter(function(e){return"term_index"===e.id}).forEach(function(t){var i=e.cascadeThis.value;e.model.term_index=i?i.term_index:void 0}),t.targetObjects.filter(function(e){return"session_index"===e.id}).forEach(function(t){var i=e.cascadeThis.value;e.cascadeList.filter(function(e){return"session_index"===e.id}).forEach(function(t){i?e.$set(t,"parameters",{term:i.term_index}):e.$delete(t.parameters,"term")}),e.model.session_index=i?i.session_index:void 0}),t.targetObjects.filter(function(e){return"temp_session_index"===e.id}).forEach(function(t){var i=e.cascadeThis.value;e.model.temp_session_index=i?i.temp_session_index:void 0}))})}}}},function(e,t,i){"use strict";var r=i(30),a=i.n(r),o=[{id:"c0ngress",name:"立法院",pages:[{id:"terms",directory:"term",editor:"term",routingIndex:"index",name:"屆期",title:"屆期、會期"},{id:"committees",directory:"committee",editor:"committee",routingIndex:"name",name:"委員會",title:"委員會"},{id:"reps",directory:"rep",editor:"rep",routingIndex:"id",name:"委員",title:"委員"},{id:"parties",directory:"party",editor:"party",routingIndex:"id",name:"政黨",title:"政黨"},{id:"caucuses",directory:"caucus",editor:"caucus",routingIndex:"id",name:"黨團或政團",title:"黨團、政團"}]},{id:"topics",name:"議題、法案",pages:[{id:"general_topics",directory:"general_topic",editor:"general_topic",routingIndex:"id",name:"大議題",title:"大議題"},{id:"specific_topics",directory:"specific_topic",editor:"specific_topic",routingIndex:"id",name:"小議題",title:"小議題"},{id:"acts",directory:"act",editor:"act",routingIndex:"id",name:"法案",title:"法案"},{id:"act_features",directory:"act_feature",editor:"act_feature",routingIndex:"id",name:"法案比較",title:"法案比較"}]},{id:"speeches",name:"委員表態",pages:[{id:"rs_statements",directory:"rs_statement",editor:"rs_statement",routingIndex:"id",name:"發言",title:"發言"},{id:"rs_bills",directory:"rs_bill",editor:"rs_bill",routingIndex:"id",name:"提案",title:"提案、連署"},{id:"rs_votes",directory:"rs_vote",editor:"rs_vote",routingIndex:"id",name:"表決",title:"表決"}]}],n=!0,l=!1,s=void 0;try{for(var c,p=a()(o);!(n=(c=p.next()).done);n=!0){var d=c.value,u=!0,f=!1,m=void 0;try{for(var y,b=a()(d.pages);!(u=(y=b.next()).done);u=!0){var _=y.value;_.routes={list:{name:_.id+"_list",title:_.name},edit:{name:_.id+"_edit",title:"編輯"+_.name}}}}catch(e){f=!0,m=e}finally{try{!u&&b.return&&b.return()}finally{if(f)throw m}}}}catch(e){l=!0,s=e}finally{try{!n&&p.return&&p.return()}finally{if(l)throw s}}t.a=o},function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"c",function(){return a}),i.d(t,"b",function(){return o});var r="appointDirectory",a="applyConstraint",o="lookupTerm"},function(e,t,i){"use strict";var r=i(77);t.a={appointDirectory:function(e){return{action:r.a,targets:e}},applyConstraint:function(e,t){return{action:r.c,targets:e,constraintName:t}},lookupTerm:function(e){return{action:r.b,targets:e}}}},function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return a});var r=function(e){return 14*e+36},a=function(e){return"calc("+e+"em + 12px)"}},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){var r=i(7)(i(159),i(272),null,null,null);e.exports=r.exports},function(e,t,i){"use strict";var r=i(0),a=i(17),o=i(157),n=i(151),l=i(150),s=i(156),c=i(155),p=i(153),d=i(154),u=i(152),f=i(276);i.n(f);r.default.use(a.a);t.a=new a.a.Store({state:o.a,getters:n.a,actions:l.a,mutations:s.a,modules:{list:c.a,editor:p.a,editorChecklist:d.a,directory:u.a},strict:!1,plugins:[]})},,function(e,t,i){function r(e){i(243)}var a=i(7)(i(158),i(271),r,null,null);e.exports=a.exports},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";t.a={equal:function(e,t){return e===t},string:function(e,t){return e.indexOf(t)>-1},id:function(e,t){return e.id===t},idFromList:function(e,t){return!!Array.isArray(e)&&e.filter(function(e){return e.id===t}).length>0}}},function(e,t,i){"use strict";var r=i(79),a=i(74),o=i(78);t.a={term:{sections:[{id:"base",title:"基本資料",description:"這個屆期的基本資料",interface:{type:"form",fields:[{id:"index",label:"屆期",type:"number"},{id:"start_date",label:"起始日",type:"date"},{id:"end_date",label:"終止日",type:"date"}],options:{labelWidth:i.i(r.a)(4)}}},{id:"sessions",title:"會期",description:"這個屆期的所有會期、臨時會會期",interface:{type:"table",name:"會期",columns:[{prop:"session_index",label:"會期",type:"number"},{prop:"temp_session_index",label:"臨時會期",type:"number"},{prop:"start_date",label:"起",type:"date",formatter:a.a.date},{prop:"end_date",label:"訖",type:"date",formatter:a.a.date}]}},{id:"parties",title:"政黨",description:"這個屆期所有曾經有席次的政黨",interface:{type:"checklist",id:"party",directory:"party"}},{id:"caucuses",title:"黨團、政團",description:"這個屆期所有曾經有席次的黨團或政團",interface:{type:"table",name:"黨團或政團",columns:[{prop:"caucus_id",label:"黨團或政團",type:"select",directory:"caucus"},{prop:"party_id_array",label:"關聯政黨",type:"multiselect",directory:"party"}]}},{id:"districts",title:"選區",description:"這個屆期的所有選區",interface:{type:"table",name:"選區",columns:[{prop:"name",label:"全名",type:"text"},{prop:"abbreviation",label:"短名",type:"text"},{prop:"zone_name",label:"區域",type:"select",directory:"zone"},{prop:"index",label:"編號",type:"number"},{prop:"neighborhoods",label:"選區內行政區",type:"text"}]}}]},committee:{sections:[{id:"base",title:"基本資料",description:"委員會基本資料",interface:{type:"form",fields:[{id:"name",label:"全名",type:"text"},{id:"abbreviation",label:"短名",type:"text"},{id:"category",label:"分類",type:"select",directory:"committee_category"}],options:{labelWidth:i.i(r.a)(3)}}}]},party:{sections:[{id:"base",title:"基本資料",description:"政黨基本資料",interface:{type:"form",fields:[{id:"name",label:"全名",type:"text"},{id:"abbreviation",label:"短名",type:"text"},{id:"emblem",label:"代表徽章",type:"text"},{id:"color",label:"代表色",type:"color"},{id:"basic_info",label:"基本資訊",type:"textarea"},{id:"add_info",label:"補充資訊",type:"textarea"}],options:{labelWidth:i.i(r.a)(5)}}}]},caucus:{sections:[{id:"base",title:"基本資料",description:"黨團或政團基本資料",interface:{type:"form",fields:[{id:"name",label:"全名",type:"text"},{id:"abbreviation",label:"短名",type:"text"},{id:"emblem",label:"代表徽章",type:"text"},{id:"color",label:"代表色",type:"color"},{id:"basic_info",label:"基本資訊",type:"textarea"},{id:"add_info",label:"補充資訊",type:"textarea"}],options:{labelWidth:i.i(r.a)(5)}}}]},rep:{sections:[{id:"base",title:"基本資料",description:"委員基本資料",interface:{type:"form",fields:[{id:"name",label:"全名",type:"text"},{id:"birth_date",label:"出生日期",type:"date"},{id:"gender",label:"性別",type:"gender"},{id:"highest_edu_degree",label:"最高學歷",type:"select",directory:"edu_degree"},{id:"edu_record",label:"學歷",type:"textarea"},{id:"experience",label:"經歷",type:"textarea"},{id:"policy_proposal",label:"政見",type:"textarea"}],options:{labelWidth:i.i(r.a)(5)}}},{id:"contacts",title:"實體聯絡資訊",description:"委員的實體聯絡資訊",interface:{type:"table",name:"實體聯絡資訊",columns:[{prop:"is_active",label:"最新",type:"switch"},{prop:"name",label:"名稱",type:"text"},{prop:"phone",label:"電話",type:"text"},{prop:"fax",label:"傳真",type:"text"},{prop:"address",label:"地址",type:"text"}]}},{id:"parties",title:"政黨歷史",description:"委員的政黨歷史紀錄",interface:{type:"table",name:"政黨歷史紀錄",columns:[{prop:"term_index",label:"屆期",type:"select",directory:"term",cascadeUpdate:[o.a.applyConstraint(["party_id","caucus_id"],"term")]},{prop:"party",label:"政黨",type:"select",directory:"party",formatter:a.a.name},{prop:"caucus",label:"黨團或政團",type:"select",directory:"caucus",formatter:a.a.name},{prop:"start_date",label:"起始日期",type:"date",formatter:a.a.date},{prop:"officer_title",label:"幹部職稱",type:"text"},{prop:"note",label:"備註",type:"text"}]}},{id:"terms",title:"選任歷史",description:"委員的選任歷史紀錄",interface:{type:"table",name:"選任歷史紀錄",columns:[{prop:"term_index",label:"屆期",type:"select",directory:"term"},{prop:"change_date",label:"變更日期",type:"date",formatter:a.a.date},{prop:"change_type",label:"變更類型",type:"select",directory:"rep_term_change_type"},{prop:"district_name",label:"選區",type:"select",directory:"term_district"},{prop:"duty",label:"院內職務",type:"select",directory:"rep_term_duty"},{prop:"note",label:"備註",type:"text"}]}},{id:"sessions",title:"委員會歷史",description:"委員的委員會歷史紀錄",interface:{type:"table",name:"委員會歷史紀錄",columns:[{prop:"term_index",label:"屆期",type:"select",directory:"term"},{prop:"session_index",label:"會期",type:"select",directory:"session",determined_by:"term_index"},{prop:"committee_name",label:"委員會",type:"select",directory:"committee"},{prop:"is_convener",label:"召委",type:"switch",formatter:a.a.boolean}]}}]},general_topic:{sections:[{id:"base",title:"基本資料",description:"這個大議題的基本資料",interface:{type:"form",fields:[{id:"title",label:"標題",type:"text"},{id:"index",label:"排序",type:"number"},{id:"image",label:"圖像",type:"text"},{id:"description",label:"敘述",type:"textarea"}],options:{labelWidth:i.i(r.a)(3)}}},{id:"specific_topics",title:"關聯小議題",description:"與這個大議題相關的小議題",interface:{type:"checklist",id:"specific_topic",directory:"specific_topic"}}]},specific_topic:{sections:[{id:"base",title:"基本資料",description:"這個小議題的基本資料",interface:{type:"form",fields:[{id:"title",label:"標題",type:"text"},{id:"index",label:"排序",type:"number"},{id:"image",label:"圖像",type:"text"},{id:"description",label:"敘述",type:"textarea"}],options:{labelWidth:i.i(r.a)(3)}}},{id:"general_topics",title:"關聯大議題",description:"與這個小議題相關的大議題",interface:{type:"checklist",id:"general_topic",directory:"general_topic"}},{id:"act_dirs",title:"修法方向",description:"這個小議題的各種修法方向",interface:{type:"table",name:"修法方向",columns:[{prop:"name",label:"名稱",type:"text"},{prop:"index",label:"排序",type:"number"}]}},{id:"st_questions",title:"爭點",description:"這個小議題的各種爭點",interface:{type:"table",name:"爭點",columns:[{prop:"question",label:"爭點",type:"text"},{prop:"index",label:"排序",type:"number"}]}}]},act:{sections:[{id:"base",title:"基本資料",description:"這個法案的基本資料",interface:{type:"form",fields:[{id:"title",label:"標題",type:"text"},{id:"official_seq_no",label:"院總字號",type:"text"}],options:{labelWidth:i.i(r.a)(5)}}},{id:"specific_topics",title:"關聯小議題",description:"與這個法案相關的小議題",interface:{type:"checklist",id:"specific_topic",directory:"specific_topic"}}]},act_feature:{sections:[{id:"base",title:"基本資料",description:"這個法案比較的基本資料",interface:{type:"form",fields:[{id:"specific_topic",label:"小議題",type:"select",directory:"specific_topic"},{id:"act_dir",label:"修法方向",type:"select",directory:"act_dir"},{id:"act",label:"法案",type:"select",directory:"act"},{id:"feature",label:"法案比較",type:"text"},{id:"dir",label:"法案比較價值判斷",type:"text"},{id:"content",label:"法案比較內容說明",type:"text"}],options:{labelWidth:i.i(r.a)(9)}}},{id:"scale",title:"法案比較量尺",description:"法案比較的評分量尺",interface:{type:"table",name:"刻度",columns:[{prop:"score",label:"分數",type:"number"},{prop:"description",label:"分數敘述",type:"text"}]}}]},rs_statement:{sections:[{id:"base",title:"基本資料",description:"這個發言的基本資料",interface:{type:"form",fields:[{id:"st_id",label:"關聯小議題",type:"select",directory:"specific_topic"},{id:"date",label:"日期",type:"date",cascadeUpdate:[o.a.lookupTerm(["term_index","session_index","temp_session_index"])]},{id:"term_index",label:"屆期",type:"select",directory:"term",determined_by:"speech_date",disabled:!0},{id:"session_index",label:"會期",type:"select",directory:"session",determined_by:"date",disabled:!0},{id:"temp_session_index",label:"臨時會會期",type:"select",directory:"temp_session",determined_by:"date",disabled:!0},{id:"rep",label:"委員",type:"select",directory:"rep"},{id:"rep_party_id",label:"當時所屬政黨",type:"select",directory:"party",determined_by:"speech_date"},{id:"principle_committee",label:"主審委員會",type:"select",directory:"committee"},{id:"joint_committee",label:"聯席委員會",type:"multiselect",directory:"committee"},{id:"content",label:"內容",type:"textarea"},{id:"st_question_id",label:"爭點",type:"select",directory:"st_question"},{id:"position",label:"立場",type:"select",directory:"rs_position"},{id:"position_summary",label:"立場摘要",type:"textarea"},{id:"source_link",label:"原始資料連結",type:"text"},{id:"tag",label:"標籤",type:"multiselect-creative",directory:"rs_tag"}],options:{labelWidth:i.i(r.a)(6)}}}]},rs_bill:{sections:[{id:"base",title:"基本資料",description:"這個提案的基本資料",interface:{type:"form",fields:[{id:"act_id",label:"關聯法案",type:"select",directory:"act"},{id:"is_law",label:"是否為法律",type:"switch",defaultValue:!1}],options:{labelWidth:i.i(r.a)(5)}}},{id:"law",title:"法律",description:"法律詳細資訊",condition:{is_law:!0},interface:{type:"form",fields:[{id:"law_version_no",label:"版本",type:"text"},{id:"data_source_link",label:"資料來源連結",type:"text"}],options:{labelWidth:i.i(r.a)(7)}}},{id:"proposal",title:"提案",description:"提案詳細資訊",condition:{is_law:!1},interface:{type:"form",fields:[{id:"date",label:"日期",type:"date",cascadeUpdate:[o.a.lookupTerm(["term_index","session_index","temp_session_index"])]},{id:"term_index",label:"屆期",type:"select",directory:"term",determined_by:"date",disabled:!0},{id:"session_index",label:"會期",type:"select",directory:"session",determined_by:"date",disabled:!0},{id:"temp_session_index",label:"臨時會期",type:"select",directory:"temp_session",determined_by:"date",disabled:!0},{id:"proposal_no",label:"字號",type:"text"},{id:"principle_sponsor_type",label:"第一提案人類別",type:"select",directory:"principle_sponsor_type"},{id:"principle_sponsor_value",label:"第一提案人",type:"select"},{id:"sponsors",label:"提案人",type:"multiselect",directory:"rep"},{id:"cosponsors",label:"連署人",type:"multiselect",directory:"rep"},{id:"content",label:"內容",type:"textarea"},{id:"data_source_link",label:"資料來源連結",type:"text"},{id:"progress_source_link",label:"進程來源連結",type:"text"}],options:{labelWidth:i.i(r.a)(7)}}},{id:"progress",title:"審議進度",description:"本提案的審議進度",condition:{is_law:!1},interface:{type:"table",name:"審議進度",columns:[{prop:"date",label:"日期",type:"date"},{prop:"progress",label:"審議進度",type:"select",directory:"legislative_step"}]}},{id:"st_questions",title:"爭點",description:"本提案的爭點立場判斷",interface:{type:"table",name:"爭點立場判斷",columns:[{prop:"specific_topic",label:"小議題",type:"select",directory:"specific_topic"},{prop:"st_question_id",label:"爭點",type:"select",directory:"st_question"},{prop:"position",label:"立場",type:"select",directory:"rs_position"}]}},{id:"act_features",title:"法案比較",description:"與本提案關聯的法案比較",interface:{type:"table",name:"法案比較",columns:[{prop:"specific_topic",label:"小議題",type:"select",directory:"specific_topic"},{prop:"act_dir",label:"修法方向",type:"select",directory:"act_dir"},{prop:"act_feature",label:"法案比較",type:"select",directory:"act_feature"},{prop:"short_content",label:"簡短內容",type:"text"},{prop:"content",label:"完整內容",type:"text"}]}}]},rs_vote:{sections:[{id:"base",title:"基本資料",description:"這個表決的基本資料",interface:{type:"form",fields:[{id:"st_id",label:"關聯小議題",type:"select",directory:"specific_topic"},{id:"date",label:"日期",type:"date",cascadeUpdate:[o.a.lookupTerm(["term_index","session_index","temp_session_index"])]},{id:"term_index",label:"屆期",type:"select",directory:"term",determined_by:"date",disabled:!0},{id:"session_index",label:"會期",type:"select",directory:"session",determined_by:"date",disabled:!0},{id:"temp_session_index",label:"臨時會期",type:"select",directory:"temp_session",determined_by:"date",disabled:!0},{id:"title",label:"標題",type:"text"},{id:"content",label:"內容",type:"textarea"},{id:"aye",label:"贊成",type:"multiselect",directory:"rep"},{id:"nay",label:"反對",type:"multiselect",directory:"rep"},{id:"abstain",label:"棄權",type:"multiselect",directory:"rep"},{id:"absence",label:"缺席",type:"multiselect",directory:"rep"},{id:"g0v_link",label:"g0v連結",type:"text"},{id:"source_link",label:"原始資料連結",type:"text"},{id:"tag",label:"標籤",type:"multiselect-creative",directory:"rs_tag"}],options:{labelWidth:i.i(r.a)(6)}}}]}}},function(e,t,i){"use strict";var r=i(74),a=i(146),o=i(79),n=i(78);t.a={terms:{filters:[],key:"index",paged:!1,columns:[{prop:"index",label:"屆期",width:i.i(o.b)(2)},{prop:"start_date",label:"起",width:i.i(o.b)(5),formatter:r.a.date},{prop:"end_date",label:"訖",width:i.i(o.b)(5),formatter:r.a.date},{prop:"sessions",label:"會期",formatter:r.a.sessions},{prop:"parties",label:"政黨",formatter:r.a.party_flags},{prop:"caucuses",label:"黨團或政團",formatter:r.a.list_abbreviations}]},committees:{filters:[],key:"name",paged:!1,columns:[{prop:"name",label:"全名"},{prop:"abbreviation",label:"短名"},{prop:"category",label:"分類",formatter:r.a.committee_category}]},reps:{filters:[{id:"name",label:"全名",type:"input",mapToColumn:"name",comparator:a.a.string},{id:"term",directory:"term",label:"屆期",type:"select",mapToColumn:"history"},{id:"district",directory:"district",label:"選區",type:"select",feature:{grouped:!0},mapToColumn:"history"},{id:"party",directory:"party",label:"政黨",type:"select",mapToColumn:"history"}],paged:!0,columns:[{prop:"name",label:"全名",width:i.i(o.b)(10)},{prop:"history",label:"任職歷史",formatter:r.a.rep_history}]},parties:{filters:[{id:"name",label:"全名",type:"input",mapToColumn:"name",comparator:a.a.string}],paged:!1,columns:[{prop:"name",label:"全名"},{prop:"abbreviation",label:"短名"},{prop:"emblem",label:"代表徽章"},{prop:"color",label:"代表色",formatter:r.a.party_flag}]},caucuses:{filters:[{id:"name",label:"全名",type:"input",mapToColumn:"name",comparator:a.a.string}],paged:!1,columns:[{prop:"name",label:"全名"},{prop:"abbreviation",label:"短名"},{prop:"emblem",label:"代表徽章"},{prop:"color",label:"代表色"}]},general_topics:{filters:[{id:"title",label:"標題",type:"input",mapToColumn:"title",comparator:a.a.string}],columns:[{prop:"title",label:"標題"},{prop:"index",label:"排序",width:i.i(o.b)(2)},{prop:"image",label:"圖像",width:i.i(o.b)(3)},{prop:"specific_topics",label:"關聯小議題",formatter:r.a.list_titles}]},specific_topics:{filters:[{id:"title",label:"標題",type:"input",mapToColumn:"title",comparator:a.a.string},{id:"general_topic",directory:"general_topic",label:"關聯大議題",type:"select",mapToColumn:"general_topics",comparator:a.a.idFromList}],columns:[{prop:"title",label:"標題"},{prop:"index",label:"排序",width:i.i(o.b)(2)},{prop:"image",label:"圖像",width:i.i(o.b)(3)},{prop:"general_topics",label:"關聯大議題",formatter:r.a.list_titles},{prop:"act_dirs",label:"修法方向",formatter:r.a.list_names},{prop:"st_questions",label:"爭點",formatter:r.a.bullet_point_questions}]},acts:{filters:[{id:"title",label:"標題",type:"input",mapToColumn:"title",comparator:a.a.string},{id:"specific_topic",directory:"specific_topic",label:"關聯小議題",type:"select",mapToColumn:"specific_topics",comparator:a.a.idFromList}],columns:[{prop:"title",label:"標題"},{prop:"official_seq_no",label:"院總字號"},{prop:"specific_topics",label:"關聯小議題",formatter:r.a.list_titles}]},act_features:{filters:[{id:"specific_topic",directory:"specific_topic",label:"關聯小議題",type:"select",mapToColumn:"specific_topic",comparator:a.a.id},{id:"act",directory:"act",label:"關聯法案",type:"select",mapToColumn:"act",comparator:a.a.id},{id:"act_dir",directory:"act_dir",label:"關聯修法方向",type:"select",mapToColumn:"act_dir",comparator:a.a.id}],columns:[{prop:"st",label:"關聯小議題",formatter:r.a.title},{prop:"act",label:"關聯法案",formatter:r.a.title},{prop:"act_dir",label:"關聯修法方向",formatter:r.a.name},{prop:"feature",label:"法案比較"},{prop:"dir",label:"法案比較價值判斷"}]},rs_statements:{filters:[{id:"specific_topic",directory:"specific_topic",label:"關聯小議題",type:"select",mapToColumn:"st",comparator:a.a.id},{id:"term",directory:"term",label:"屆期",type:"select",mapToColumn:"term_index",comparator:a.a.equal},{id:"rep",directory:"rep",label:"立法委員",type:"select",mapToColumn:"rep",comparator:a.a.id},{id:"party",directory:"party",label:"政黨",type:"select",mapToColumn:"rep_party",comparator:a.a.id},{id:"rs_position",directory:"rs_position",label:"立場",type:"select",mapToColumn:"position",comparator:a.a.equal}],columns:[{prop:"st",label:"關聯小議題",formatter:r.a.title},{prop:"term_index",label:"屆期",width:i.i(o.b)(2)},{prop:"rep",label:"立法委員",formatter:r.a.name},{prop:"rep_party",label:"政黨",formatter:r.a.party_flag_from_color,width:i.i(o.b)(2)},{prop:"content",label:"內容"},{prop:"position",label:"立場",directory:"rs_position",width:i.i(o.b)(2)},{prop:"position_summary",label:"立場摘要"}]},rs_bills:{filters:[{id:"specific_topic",directory:"specific_topic",label:"關聯小議題",type:"select",mapToColumn:"specific_topics",comparator:a.a.idFromList},{id:"act",directory:"act",label:"關聯法案",type:"select",mapToColumn:"act",comparator:a.a.id},{id:"term",directory:"term",label:"屆期",type:"select",mapToColumn:"term_index",comparator:a.a.equal},{id:"principle_sponsor_type",directory:"principle_sponsor_type",label:"第一提案者類別",type:"select",mapToColumn:"principle_sponsor_type",comparator:a.a.equal,cascadeUpdate:[n.a.appointDirectory(["principle_sponsor"])]},{id:"principle_sponsor",label:"第一提案者",type:"select",mapToColumn:"principle_sponsor_value",comparator:a.a.id},{id:"party",directory:"party",label:"第一提案者政黨",type:"select",mapToColumn:"principle_sponsor_parties",comparator:a.a.idFromList}],columns:[{prop:"specific_topics",label:"關聯小議題",formatter:r.a.list_titles},{prop:"act",label:"關聯法案",formatter:r.a.title},{prop:"is_law",label:"法律？",width:i.i(o.b)(3)},{prop:"law_version_no",label:"版本"},{prop:"term_index",label:"屆期",width:i.i(o.b)(2)},{prop:"principle_sponsor_type",label:"第一提案者類別",directory:"principle_sponsor_type"},{prop:"principle_sponsor_value",label:"第一提案者",formatter:r.a.name},{prop:"principle_sponsor_parties",label:"第一提案者政黨",formatter:r.a.party_flags}]},rs_votes:{filters:[{id:"specific_topic",directory:"specific_topic",label:"關聯小議題",type:"select",mapToColumn:"st",comparator:a.a.id},{id:"term",directory:"term",label:"屆期",type:"select",mapToColumn:"term_index",comparator:a.a.equal}],columns:[{prop:"st",label:"關聯小議題",formatter:r.a.title},{prop:"term_index",label:"屆期",width:i.i(o.b)(2)},{prop:"title",label:"標題"},{prop:"aye_count",label:"贊成",width:i.i(o.b)(2)},{prop:"nay_count",label:"反對",width:i.i(o.b)(2)},{prop:"abstain_count",label:"棄權",width:i.i(o.b)(2)},{prop:"absence_count",label:"缺席",width:i.i(o.b)(2)},{prop:"g0v_link",label:"g0v",formatter:r.a.link,width:i.i(o.b)(2)},{prop:"source_link",label:"原始資料",formatter:r.a.link,width:i.i(o.b)(4)}]}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(0),a=i(106),o=i.n(a),n=i(104),l=i(66),s=i(67),c=i.n(s),p=i(105),d=i.n(p),u=i(65);i.n(u).a.defaults.baseURL="https://c0re.watchout.tw",r.default.config.productionTip=!1,r.default.use(c.a,{locale:d.a}),new r.default({el:"#app",store:n.a,router:l.a,template:"<App/>",components:{App:o.a}})},function(e,t,i){"use strict";var r=i(18),a=i(11),o=i(29),n=i(23);t.a={updateSelect:function(e,t){var i=e.commit,l=n.a[t.directoryID];if(l)if(l.api)a.c(t).then(function(e){var a={data:o.b(t.directoryID,e.data.rows),directoryID:t.directoryID,uniqueID:t.uniqueID};i(r.l,a)}).catch(function(e){i(r.b,e)});else if(l.options){var s={data:l.options,directoryID:t.directoryID,uniqueID:t.uniqueID};i(r.l,s)}else i(r.c);else i(r.l,{data:[],uniqueID:t.uniqueID})},deleteSelect:function(e,t){(0,e.commit)(r.m,{uniqueID:t.uniqueID})}}},function(e,t,i){"use strict";t.a={selectOptions:function(e){return function(t){return e[t]}}}},function(e,t,i){"use strict";var r,a=i(19),o=i.n(a),n=i(18),l=i(11),s=i(29),c=i(0),p=i(23),d={},u={},f={cacheDirectory:function(e,t){var i=e.commit,r=p.a[t.directoryID];if(r.api)l.c(t).then(function(e){var r={data:s.b(t.directoryID,e.data.rows),directoryID:t.directoryID};i(n.a,r)}).catch(function(e){i(n.b,e)});else if(r.options){var a={data:r.options,directoryID:t.directoryID};i(n.a,a)}else i(n.c)}},m=(r={},o()(r,n.a,function(e,t){c.default.set(e,t.directoryID,t.data)}),o()(r,n.b,function(e,t){console.error(t)}),o()(r,n.c,function(e){console.error("Directory not found")}),r);t.a={state:d,getters:u,actions:f,mutations:m}},function(e,t,i){"use strict";var r,a=i(19),o=i.n(a),n=i(67),l=(i.n(n),i(66)),s=i(11),c=i(18),p={failure:"編輯失敗",success:"編輯成功"},d={},u={},f={submitForm:function(e,t){var i=e.commit,r=e.dispatch;s.d(t.formData).then(function(e){l.a.push({name:t.routeTo.routes.edit.name,params:{id:e.data[t.routeTo.routingIndex]}}),r("showSuccessAlert")}).catch(function(e){i(c.e,e),r("showFailAlert",e)})},showSuccessAlert:function(e,t){(0,e.commit)(c.f)},showFailAlert:function(e,t){(0,e.commit)(c.g)}},m=(r={},o()(r,c.f,function(e){i.i(n.Message)({message:p.success,type:"success"})}),o()(r,c.g,function(e){i.i(n.Message)({message:p.failure,type:"error"})}),o()(r,c.e,function(e,t){console.error("error",t)}),r);t.a={state:d,getters:u,actions:f,mutations:m}},function(e,t,i){"use strict";var r,a=i(19),o=i.n(a),n=i(18),l=i(11),s=i(29),c=i(0),p={},d={},u={updateChecklist:function(e,t){var i=e.commit;l.c(t).then(function(e){var r={data:s.b(t.directoryID,e.data.rows),directoryID:t.directoryID,uniqueID:t.uniqueID};i(n.d,r)}).catch(function(e){i(n.b,e)})}},f=(r={},o()(r,n.d,function(e,t){c.default.set(e,t.uniqueID,t.data)}),o()(r,n.b,function(e,t){console.error(t)}),r);t.a={state:p,getters:d,actions:u,mutations:f}},function(e,t,i){"use strict";var r,a=i(19),o=i.n(a),n=i(18),l=i(11),s={rows:[],filteredRows:[],paging:{page:1,pageSize:20},totalRowCount:0},c={rows:function(e){return e.rows},paging:function(e){return e.paging},totalRowCount:function(e){return e.totalRowCount}},p={updateList:function(e,t){var i=e.commit;l.e(t).then(function(e){i(n.h,e.data)}).catch(function(e){i(n.b,e)})},updateListNoPaging:function(e,t){var i=e.commit;l.f(t).then(function(e){i(n.i,e.data)}).catch(function(e){i(n.b,e)})},filterList:function(e,t){var i=e.commit,r=t.rows;for(var a in t.queryParameters)if(t.queryParameters[a]){var o=t.filterInfo.find(function(e){return e.id===a});r=r.filter(function(e){return o.comparator(e[o.mapToColumn],t.queryParameters[a])})}var l={rows:r};i(n.j,l)},getFilteredList:function(e,t){var i=e.commit;l.g(t).then(function(e){i(n.k,e.data)}).catch(function(e){i(n.b,e)})}},d=(r={},o()(r,n.h,function(e,t){e.rows=t.rows,e.filteredRows=t.rows,e.paging.pageSize=t.paging?t.paging.pageSize:0,e.totalRowCount=t.totalRowCount}),o()(r,n.i,function(e,t){e.rows=t.rows,e.filteredRows=t.rows,e.totalRowCount=t.totalRowCount}),o()(r,n.j,function(e,t){e.filteredRows=t.rows}),o()(r,n.k,function(e,t){e.filteredRows=t.rows}),o()(r,n.b,function(e,t){console.error(t)}),r);t.a={state:s,getters:c,actions:p,mutations:d}},function(e,t,i){"use strict";var r,a=i(19),o=i.n(a),n=i(18),l=i(0);t.a=(r={},o()(r,n.l,function(e,t){l.default.set(e,t.uniqueID,t.data)}),o()(r,n.m,function(e,t){l.default.delete(e,t.uniqueID)}),o()(r,n.b,function(e,t){console.error(t)}),o()(r,n.c,function(e){console.error("Directory not found")}),r)},function(e,t,i){"use strict";t.a={}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(260),a=i.n(r),o=i(76);t.default={name:"app",data:function(){return{menu:o.a}},components:{Navigation:a.a}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(0),a=i(17);r.default.use(a.a),t.default={props:["size","value","uuid","config","page"],data:function(){return{model:[]}},computed:{isCreative:function(e){return this.config.type.indexOf("creative")>-1},options:function(){return this.$store.state[this.uuid]}},beforeMount:function(){this.update()},watch:{$route:function(){this.update()},value:function(e,t){this.pull()}},methods:{is:function(e){return this.config.type===e},update:function(){this.pull(),this.config.directory&&this.$store.dispatch("updateSelect",{directoryID:this.config.directory,uniqueID:this.uuid})},pull:function(){this.model=this.value},push:function(){this.$emit("update:value",this.model)}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(81),a=i.n(r),o=i(0),n=i(17);o.default.use(n.a),t.default={props:["size","value","uuid","cascadeThis","config","page"],data:function(){return{model:void 0}},computed:{options:function(){return this.$store.state[this.uuid]}},beforeMount:function(){this.update()},beforeDestroy:function(){},watch:{$route:function(){this.update()},"config.directory":function(){this.update()},"config.parameters":function(){this.update()},value:function(){this.pull()}},methods:{is:function(e){return this.config.type===e},update:function(){this.pull(),this.$store.dispatch("updateSelect",{parameters:this.config.parameters,directoryID:this.config.directory,uniqueID:this.uuid})},pull:function(){this.model="object"===a()(this.value)?this.value.id:this.value},push:function(){if(this.$emit("update:value",this.model),this.config.cascadeUpdate){var e={fromID:this.uuid};this.model&&(e.value=this.model),this.$emit("update:cascadeThis",e)}}}}},function(e,t,i){"use strict";function r(){document.documentElement.scrollTop=0,document.body.scrollTop=0}Object.defineProperty(t,"__esModule",{value:!0});var a=i(30),o=i.n(a),n=i(0),l=i(17),s=i(11),c=i(147),p=i(255),d=i.n(p),u=i(256),f=i.n(u),m=i(254),y=i.n(m);n.default.use(l.a),t.default={props:["page"],data:function(){return{initialized:!1,sections:[],model:{}}},beforeMount:function(){this.update()},watch:{$route:function(e,t){this.update()}},methods:{sectionIs:function(e,t){return e.interface.type===t},shouldSectionRender:function(e){if(e.condition){var t=!0;for(var i in e.condition){var r=e.condition[i];t=t&&this.model[i]===r}return t}return!0},update:function(){var e=this;if(console.log("Editor:",this.page.id),this.sections=c.a[this.page.editor].sections,"create"===this.$route.params.id){var t=!0,i=!1,r=void 0;try{for(var a,n=o()(this.sections);!(t=(a=n.next()).done);t=!0){var l=a.value;if("form"===l.interface.type){var p=!0,d=!1,u=void 0;try{for(var f,m=o()(l.interface.fields);!(p=(f=m.next()).done);p=!0){var y=f.value;this.$set(this.model,y.id,y.defaultValue)}}catch(e){d=!0,u=e}finally{try{!p&&m.return&&m.return()}finally{if(d)throw u}}}else this.$set(this.model,l.id,[])}}catch(e){i=!0,r=e}finally{try{!t&&n.return&&n.return()}finally{if(i)throw r}}this.initialized=!0}else s.a({pageID:this.page.id,id:this.$route.params.id}).then(function(t){e.model=t.data,e.initialized=!0})},goBack:function(){this.$router.push({name:this.page.routes.list.name})},submit:function(){this.$store.dispatch("submitForm",{formData:this.model,routeTo:this.page}),r()}},components:{EditorForm:d.a,EditorTable:f.a,EditorChecklist:y.a}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(30),a=i.n(r),o=i(62),n=i.n(o),l=i(0),s=i(17);l.default.use(s.a),t.default={props:["model","config","page"],data:function(){return{initialized:!1,uuid:n()(),localModel:[]}},computed:{options:function(){return this.$store.state.editorChecklist[this.uuid]}},beforeMount:function(){this.update()},beforeDestroy:function(){},watch:{$route:function(){this.update()},model:function(){if(!this.initialized){var e=!0,t=!1,i=void 0;try{for(var r,o=a()(this.model);!(e=(r=o.next()).done);e=!0){var n=r.value;this.localModel.push(n.id)}}catch(e){t=!0,i=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw i}}this.initialized=!0}}},methods:{update:function(){this.$store.dispatch("updateChecklist",{directoryID:this.config.directory,uniqueID:this.uuid}),this.initialized=!1},handleChange:function(e){this.$emit("update:model",e.map(function(e){return{id:e}}))}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(63),a=i.n(r),o=i(103),n=i.n(o),l=i(261),s=i.n(l),c=i(257),p=i.n(c),d=i(75);t.default={mixins:[d.a],props:["model","config","page"],data:function(){return{cascadeList:void 0}},beforeMount:function(){this.init()},methods:{fieldIs:function(e,t){return e.type.split("-").shift()===t},formItemClasses:function(e){var t=[];return e.determined_by&&t.push("has-dependency"),t},init:function(){this.cascadeList=this.config.fields,this.cascadeInit()}},components:{AbstractSelect:a.a,AbstractMultiSelect:n.a,TermLookup:s.a,GenderSlider:p.a}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(81),a=i.n(r),o=i(19),n=i.n(o),l=i(41),s=i.n(l),c=i(80),p=i.n(c),d=i(0),u=i(17),f=i(62),m=i.n(f),y=i(63),b=i.n(y),_=i(103),h=i.n(_);d.default.use(u.a),t.default={props:["rows","config","page","parentInitialized"],data:function(){return{initialized:!1,componentSize:"small",flags:[],uuids:[]}},beforeMount:function(){this.init()},watch:{parentInitialized:function(){var e=this;!this.initialized&&this.rows&&(this.flags=this.rows.map(function(e){return{isEditing:!1}}),this.uuids=this.rows.map(function(t){return e.generateUUIDForRow()}),this.initialized=!0)}},methods:{init:function(){var e=this;this.config.columns.filter(function(e){return!!e.directory}).forEach(function(t){e.$store.dispatch("cacheDirectory",{directoryID:t.directory})})},columnIs:function(e,t){return e.type.split("-").shift()===t},confirmRow:function(e){this.flags[e].isEditing=!1},editRow:function(e){this.flags[e].isEditing=!0},deleteRow:function(e){},addRow:function(){var e=this.rows?this.rows:[];e.push(this.generateModelForRow()),this.flags.push({isEditing:!0}),this.uuids.push(this.generateUUIDForRow()),this.$emit("update:rows",e)},generateModelForRow:function(){return s.a.apply(Object,p()(this.config.columns.map(function(e){return n()({},e.prop,void 0)})))},generateUUIDForRow:function(){return s.a.apply(Object,p()(this.config.columns.map(function(e){return n()({},e.prop,m()())})))},cellFormatter:function(e,t){var i=t.row[t.column.property],r=i,o=e.directory?this.$store.state.directory[e.directory]:void 0;if(null===i)r='<span class="null">'+i+"</span>";else if(o){"object"===(void 0===i?"undefined":a()(i))&&(i=i.id);var n=o.filter(function(e){return e.value===i}).pop();r=n?n.label:r}else e.formatter&&(r=e.formatter(t.row,t.column));return r}},components:{AbstractSelect:b.a,AbstractMultiSelect:h.a}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["value","config","page"],data:function(){return{initialized:!1,model:void 0}},computed:{status:function(){var e=2*(this.model-50);return 0===e?"酷兒":Math.abs(e)+"% "+(e<0?"女性":"男性")}},watch:{value:function(){this.initialized||(this.pull(),this.initialized=!0)}},methods:{formatter:function(e){var t=e<50?-1:e>50?1:0,i=2*Math.abs(e-50);return 0===t?"酷兒":i+"% "+(t<0?"女性":"男性")},pull:function(){this.model=this.value},push:function(){this.$emit("update:value",2*(this.model-50))}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"hello",data:function(){return{message:"Hello, Dave."}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(41),a=i.n(r),o=i(246),n=i.n(o),l=i(0),s=i(17),c=i(148),p=i(63),d=i.n(p),u=i(75),f=i(29);l.default.use(s.a),Array.prototype.objectArrayClone=function(){return this.map(function(e){return a()({},e)})},t.default={mixins:[u.a],props:["page"],data:function(){return{queryParameters:{},filters:[],columns:[],config:void 0,cascadeList:void 0}},computed:{rows:function(){return this.$store.state.list.rows},paging:function(){return this.$store.state.list.paging},totalRowCount:function(){return this.$store.state.list.totalRowCount},filteredRows:function(){return this.$store.state.list.filteredRows}},beforeMount:function(){this.init(),this.update()},watch:{$route:function(){this.init(),this.update()},"paging.page":function(){this.update()},queryParameters:{handler:function(e){this.generateFilteredList()},deep:!0}},methods:{filterIs:function(e,t){return e.type===t},init:function(){var e=this;console.log("List:",this.page.id),this.config=c.a[this.page.id],this.config.key=this.config.key?this.config.key:"id",this.queryParameters={},c.a[this.page.id].filters.forEach(function(t){e.$set(e.queryParameters,t.id,void 0)}),this.filters=c.a[this.page.id].filters.objectArrayClone(),this.columns=c.a[this.page.id].columns.objectArrayClone(),this.cascadeList=this.filters,this.cascadeInit()},update:function(){this.config.paged?this.$store.dispatch("updateList",{pageID:this.page.id,page:this.paging.page}):this.$store.dispatch("updateListNoPaging",{pageID:this.page.id})},editItem:function(e){this.$router.push({name:this.page.routes.edit.name,params:{id:e[this.page.routingIndex]}})},generateFilteredList:n()(function(){this.config.paged?this.$store.dispatch("getFilteredList",{pageID:this.page.id,queryParameters:this.queryParameters}):this.$store.dispatch("filterList",{rows:this.rows,queryParameters:this.queryParameters,filterInfo:c.a[this.page.id].filters})},350),cellFormatter:function(e,t){function i(e){return'<span class="null">'+e+"</span>"}var r=t.row[t.column.property],a=r;return void 0===r?a=i("?"):null===r?a=i("null"):""===r?a=i("empty"):r.length<1?a=i("empty"):e.directory?a=f.a(e.directory).filter(function(e){return e.value===r}).pop().label:e.formatter&&(a=e.formatter(t.row,t.column)),a}},components:{AbstractSelect:d.a}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["menu"],data:function(){return{root:"/"}},created:function(){this.activeIndex=this.$route.path},methods:{handleSelect:function(e,t){this.activeIndex=this.root+e}}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(11);t.default={props:["value","uuid","cascadeThis","config","page"],data:function(){return{model:void 0}},watch:{value:function(){this.pull()}},methods:{pull:function(){this.model=this.value},push:function(){var e=this;if(this.$emit("update:value",this.model),this.config.cascadeUpdate){var t={fromID:this.uuid};if("Date"===this.model.constructor.name){var i=this.model.getTime();r.b({timestamp:i}).then(function(i){i.data.term_index?t.value=i.data:(e.$message({message:e.model.toLocaleDateString()+"是休會期間",type:"error"}),e.model=void 0),e.$emit("update:cascadeThis",t)})}else this.$emit("update:cascadeThis",t)}}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,function(e,t,i){function r(e){i(244)}var a=i(7)(i(161),i(273),r,null,null);e.exports=a.exports},function(e,t,i){function r(e){i(241)}var a=i(7)(i(162),i(269),r,null,null);e.exports=a.exports},function(e,t,i){function r(e){i(237)}var a=i(7)(i(163),i(264),r,null,null);e.exports=a.exports},function(e,t,i){function r(e){i(242)}var a=i(7)(i(164),i(270),r,null,null);e.exports=a.exports},function(e,t,i){function r(e){i(238)}var a=i(7)(i(165),i(265),r,null,null);e.exports=a.exports},function(e,t,i){function r(e){i(239)}var a=i(7)(i(166),i(266),r,null,null);e.exports=a.exports},function(e,t,i){function r(e){i(240)}var a=i(7)(i(167),i(268),r,null,null);e.exports=a.exports},function(e,t,i){function r(e){i(236)}var a=i(7)(i(168),i(263),r,null,null);e.exports=a.exports},function(e,t,i){var r=i(7)(i(169),i(262),null,null,null);e.exports=r.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"term-lookup"},[i("el-date-picker",{attrs:{placeholder:e.config.label},on:{change:e.push},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("nav",{staticClass:"navbar sticky-top navbar-light"},[i("el-menu",{attrs:{theme:"dark",router:!0,"default-active":e.activeIndex,mode:"horizontal"},on:{select:e.handleSelect}},[i("el-menu-item",{attrs:{index:e.root}},[e._v("中控室")]),e._v(" "),e._l(e.menu,function(t,r){return i("el-submenu",{key:t.id,attrs:{index:e.root+t.id}},[i("template",{slot:"title"},[e._v(e._s(t.name))]),e._v(" "),e._l(t.pages,function(t,r){return i("el-menu-item",{key:t.id,attrs:{index:e.root+t.id}},[i("router-link",{attrs:{to:{name:t.routes.list.name}}},[e._v(e._s(t.title))])],1)})],2)})],2)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"editor-form"},[i("el-form",{attrs:{"label-width":e.config.options.labelWidth,"label-position":"left"}},e._l(e.config.fields,function(t){return i("el-form-item",{key:t.id,class:e.formItemClasses(t),attrs:{label:t.label}},[e.fieldIs(t,"text")?i("el-input",{model:{value:e.model[t.id],callback:function(i){var r=e.model,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.model[t.id]=i},expression:"model[field.id]"}}):e._e(),e._v(" "),e.fieldIs(t,"textarea")?i("el-input",{attrs:{type:"textarea"},model:{value:e.model[t.id],callback:function(i){var r=e.model,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.model[t.id]=i},expression:"model[field.id]"}}):e._e(),e._v(" "),e.fieldIs(t,"number")?i("el-input-number",{model:{value:e.model[t.id],callback:function(i){var r=e.model,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.model[t.id]=i},expression:"model[field.id]"}}):e._e(),e._v(" "),e.fieldIs(t,"switch")?i("el-switch",{attrs:{"on-text":"YES","off-text":"NO"},model:{value:e.model[t.id],callback:function(i){var r=e.model,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.model[t.id]=i},expression:"model[field.id]"}}):e._e(),e._v(" "),e.fieldIs(t,"color")?i("el-color-picker",{attrs:{"show-alpha":""},model:{value:e.model[t.id],callback:function(i){var r=e.model,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.model[t.id]=i},expression:"model[field.id]"}}):e._e(),e._v(" "),e.fieldIs(t,"date")?i("term-lookup",{attrs:{value:e.model[t.id],uuid:e.uuids[t.id],"cascade-this":e.cascadeThis,config:t,page:e.page},on:{"update:value":function(i){var r=e.model,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.model[t.id]=i},"update:cascadeThis":function(t){e.cascadeThis=t}}}):e._e(),e._v(" "),e.fieldIs(t,"select")?i("abstract-select",{attrs:{value:e.model[t.id],uuid:e.uuids[t.id],"cascade-this":e.cascadeThis,config:t,page:e.page},on:{"update:value":function(i){var r=e.model,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.model[t.id]=i},"update:cascadeThis":function(t){e.cascadeThis=t}}}):e._e(),e._v(" "),e.fieldIs(t,"multiselect")?i("abstract-multi-select",{attrs:{value:e.model[t.id],uuid:e.uuids[t.id],config:t,page:e.page},on:{"update:value":function(i){var r=e.model,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.model[t.id]=i}}}):e._e(),e._v(" "),e.fieldIs(t,"gender")?i("gender-slider",{attrs:{value:e.model[t.id],config:t,page:e.page},on:{"update:value":function(i){var r=e.model,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.model[t.id]=i}}}):e._e()],1)}))],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"gender-slider"},[i("el-slider",{attrs:{"show-tooltip":!1},on:{change:e.push},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}}),e._v(" "),i("p",{staticClass:"status"},[e._v(e._s(e.status))])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hello"},[i("blockquote",[e._v(e._s(e.message))])],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"abstract-select"},[i("el-select",{attrs:{size:e.size,placeholder:e.config.label,clearable:"",filterable:"",disabled:e.config.disabled},on:{change:e.push},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list"},[i("div",{staticClass:"title d-flex justify-content-between align-items-center"},[i("h1",{staticClass:"small"},[e._v(e._s(e.page.routes.list.title))]),e._v(" "),i("router-link",{attrs:{to:{name:e.page.routes.edit.name,params:{id:"create"}}}},[i("el-button",{attrs:{type:"primary"}},[e._v("新增"+e._s(e.page.name))])],1)],1),e._v(" "),e.filters.length>0?i("div",{staticClass:"filters d-flex flex-row"},[e._l(e.filters,function(t){return[e.filterIs(t,"select")?i("abstract-select",{attrs:{value:e.queryParameters[t.id],uuid:e.uuids[t.id],"cascade-this":e.cascadeThis,config:t,page:e.page},on:{"update:value":function(i){var r=e.queryParameters,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.queryParameters[t.id]=i},"update:cascadeThis":function(t){e.cascadeThis=t}}}):i("div",{staticClass:"list-filter-input"},[i("el-input",{attrs:{placeholder:t.label},on:{change:e.generateFilteredList},model:{value:e.queryParameters[t.id],callback:function(i){var r=e.queryParameters,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.queryParameters[t.id]=i},expression:"queryParameters[filter.id]"}})],1)]})],2):i("div",{staticClass:"filters"},[e._v("沒什麼好過濾的。")]),e._v(" "),i("el-table",{attrs:{data:e.filteredRows}},[e._l(e.columns,function(t){return i("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label,width:t.width,formatter:t.formatter},scopedSlots:e._u([{key:"default",fn:function(r){return[i("div",{staticClass:"formatted-content",domProps:{innerHTML:e._s(e.cellFormatter(t,r))}})]}}])})}),e._v(" "),i("el-table-column",{attrs:{width:"48"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small",icon:"edit"},on:{click:function(i){e.editItem(t.row)}}})]}}])})],2),e._v(" "),e.config.paged?i("el-pagination",{attrs:{layout:"prev, pager, next","current-page":e.paging.page,"page-size":e.paging.pageSize,total:e.totalRowCount},on:{"update:currentPage":function(t){e.paging.page=t}}}):e._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"editor-checklist"},[i("el-checkbox-group",{on:{change:e.handleChange},model:{value:e.localModel,callback:function(t){e.localModel=t},expression:"localModel"}},e._l(e.options,function(t){return i("el-checkbox-button",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])}))],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"editor-table"},[i("el-button",{staticClass:"add",on:{click:e.addRow}},[e._v("新增"+e._s(e.config.name))]),e._v(" "),i("el-table",{attrs:{data:e.rows}},[e._l(e.config.columns,function(t){return i("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label},scopedSlots:e._u([{key:"default",fn:function(r){return[e.flags[r.$index].isEditing?[e.columnIs(t,"text")?i("el-input",{attrs:{size:e.componentSize},model:{value:r.row[t.prop],callback:function(e){var i=r.row,a=t.prop;Array.isArray(i)?i.splice(a,1,e):r.row[t.prop]=e},expression:"scope.row[column.prop]"}}):e._e(),e._v(" "),e.columnIs(t,"number")?i("el-input-number",{attrs:{size:e.componentSize},model:{value:r.row[t.prop],callback:function(e){var i=r.row,a=t.prop;Array.isArray(i)?i.splice(a,1,e):r.row[t.prop]=e},expression:"scope.row[column.prop]"}}):e._e(),e._v(" "),e.columnIs(t,"date")?i("el-date-picker",{attrs:{size:e.componentSize},model:{value:r.row[t.prop],callback:function(e){var i=r.row,a=t.prop;Array.isArray(i)?i.splice(a,1,e):r.row[t.prop]=e},expression:"scope.row[column.prop]"}}):e._e(),e._v(" "),e.columnIs(t,"switch")?i("el-switch",{attrs:{size:e.componentSize,"on-text":"YES","off-text":"NO"},model:{value:r.row[t.prop],callback:function(e){var i=r.row,a=t.prop;Array.isArray(i)?i.splice(a,1,e):r.row[t.prop]=e},expression:"scope.row[column.prop]"}}):e._e(),e._v(" "),e.columnIs(t,"checkbox")?i("el-checkbox",{attrs:{size:e.componentSize},model:{value:r.row[t.prop],callback:function(e){var i=r.row,a=t.prop;Array.isArray(i)?i.splice(a,1,e):r.row[t.prop]=e},expression:"scope.row[column.prop]"}}):e._e(),e._v(" "),e.columnIs(t,"select")?i("abstract-select",{attrs:{size:e.componentSize,value:r.row[t.prop],uuid:e.uuids[r.$index][t.prop],config:t,page:e.page},on:{"update:value":function(e){var i=r.row,a=t.prop;Array.isArray(i)?i.splice(a,1,e):r.row[t.prop]=e}}}):e._e(),e._v(" "),e.columnIs(t,"multiselect")?i("abstract-multi-select",{attrs:{size:e.componentSize,value:r.row[t.prop],uuid:e.uuids[r.$index][t.prop],config:t,page:e.page},on:{"update:value":function(e){var i=r.row,a=t.prop;Array.isArray(i)?i.splice(a,1,e):r.row[t.prop]=e}}}):e._e()]:[i("div",{staticClass:"formatted-content",domProps:{innerHTML:e._s(e.cellFormatter(t,r))}})]]}}])})}),e._v(" "),i("el-table-column",{attrs:{width:"64"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.flags[t.$index].isEditing?i("el-button",{attrs:{type:"text",size:"small",icon:"check"},on:{click:function(i){e.confirmRow(t.$index)}}}):i("el-button",{attrs:{type:"text",size:"small",icon:"edit"},on:{click:function(i){e.editRow(t.$index)}}}),e._v(" "),i("el-button",{attrs:{type:"text",size:"small",icon:"delete2"},on:{click:function(i){e.deleteRow(t.$index)}}})]}}])})],2)],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("navigation",{attrs:{menu:e.menu}}),e._v(" "),i("router-view")],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"abstract-multi-select"},[i("el-select",{attrs:{size:e.size,placeholder:e.config.label,clearable:"",filterable:"",multiple:"","allow-create":e.isCreative},on:{change:e.push},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}},e._l(e.options,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"editor"},[i("div",{staticClass:"title"},[i("h1",{staticClass:"small"},[e._v(e._s(e.page.routes.edit.title))])]),e._v(" "),e._l(e.sections,function(t){return e.shouldSectionRender(t)?i("section",{key:t.title},[i("div",{staticClass:"title"},[i("h2",{staticClass:"small"},[e._v(e._s(t.title))])]),e._v(" "),i("p",[e._v(e._s(t.description))]),e._v(" "),e.sectionIs(t,"form")?i("editor-form",{attrs:{config:t.interface,model:e.model,page:e.page}}):e._e(),e._v(" "),e.sectionIs(t,"table")?i("editor-table",{attrs:{config:t.interface,rows:e.model[t.id],page:e.page,parentInitialized:e.initialized},on:{"update:rows":function(i){var r=e.model,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.model[t.id]=i}}}):e._e(),e._v(" "),e.sectionIs(t,"checklist")?i("editor-checklist",{attrs:{config:t.interface,model:e.model[t.id],page:e.page},on:{"update:model":function(i){var r=e.model,a=t.id;Array.isArray(r)?r.splice(a,1,i):e.model[t.id]=i}}}):e._e()],1):e._e()}),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submit()}}},[e._v("儲存")]),e._v(" "),i("el-button",{on:{click:function(t){e.goBack()}}},[e._v("取消")])],2)},staticRenderFns:[]}}],[149]);
//# sourceMappingURL=app.f8495b3f344e55aac8bf.js.map